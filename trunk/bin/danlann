#!/usr/bin/python

import sys
import os
import os.path
from ConfigParser import ConfigParser

from danlann import DanlannGenerator
from danlann.bc import Gallery
from danlann.parser import parse, check
from danlann.filemanager import FileManager

if len(sys.argv) != 2:
    print >> sys.stderr, 'usage:\n  %s conf_file.ini' % sys.argv[0]
    sys.exit(1)

fn = sys.argv[1] # only one parameter is accepted - danlann configuration file

processor = Danlann()
conf = processor.readConf(fn)
processor.initialize(conf)
processor.copy()
processor.generate()
# create generator object and generate gallery
generator.generateGallery()
generator.postprocess()
